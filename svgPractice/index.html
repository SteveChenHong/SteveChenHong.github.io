<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>HTML SVG</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="svg.min.js"></script>
    <style>
        .watermove {
            /*用CSS也可以做動畫 但是 firefox(-moz-)不支援clipPath Tag 的 animate*/
            /*animation-duration: 10s;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
            animation-name: watermove;*/
            /*多個animation*/
            -webkit-animation: watermove 10s infinite linear, defaultwater 0.8s ease-in;
        }




        @-webkit-keyframes watermove {
            0% {
                transform: translateX(0%);
            }

            100% {
                transform: translateX(50%);
            }
        }

        @-webkit-keyframes defaultwater {
            0% {
                transform: translateY(100%);
            }

            100% {
                transform: translateY(0%);
            }
        }

        .t1 {
            text-anchor: middle;
            font-family: '微軟正黑體';
            font-size: 65px;
            font-weight: 900;
        }
    </style>
</head>
<body>


    <h1>HTML SVG</h1>
    <section><a target="_blank" href="http://www.w3schools.com/svg/default.asp">W3C school 教學</a></section>.
    <section><a target="_blank" href="http://tutorials.jenkov.com/svg/index.html">教學2</a></section>

    <ul>
        <li>所有SVG 圖形要包在"svg" tag 裡 可以設定畫板範圍</li>
        <li>
            用g tag 包裹起來的圖形可以一起做設定(svg tag 也可以做一些統一設定 fill ....)
            <ul>
                <li>
                    stroke="black"(線顏色) stroke-width="2"(粗細) fill="black"(填滿色)
                    font-size="30"(字大小用於SVG的text) font="sans-serif"(字型SVG的text)  <a href="https://developer.mozilla.org/zh-TW/docs/Web/SVG/Attribute/text-anchor"> target="_blank" text-anchor="middle"> (字錨點)</a> 等
                </li>

            </ul>
        </li>

    </ul>


    <h5><a href="http://water.taiwanstat.com/">練習一成品</a></h5>
    <ul>
        <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/animateTransform">用svg 的 animatetranform tag 製作動畫 (CSS也可以但firefox會有問題)</a></li>
    </ul>
    <svg height="250">


        <defs>
            <clipPath id="a5">
                <path d="m-180 220 l400 0 l 0 -100 q-25 -10 -50 0 t -50 0
                          q-25 -10 -50 0 t -50 0 q-25 -10 -50 0 t -50 0
                          q-25 -10 -50 0 t -50 0
                          ">
                    <animateTransform attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      from="0 0"
                                      to="200 0"
                                      dur="10s"
                                      repeatCount="indefinite" />
                    <animateTransform attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      from="0 100"
                                      to="0 0"
                                      dur="0.8s" />
                </path>
            </clipPath>
        </defs>


        <circle cx="120" cy="120" r="110" stroke="#33CCFF" stroke-width="10" fill="#33CCFF" />
        <circle cx="120" cy="120" r="109" fill="white" />
        <circle cx="120" cy="120" r="100" fill="white" />
        <circle cx="120" cy="120" r="100" clip-path="url(#a5)" fill="#5599FF" />
        <text class="t1" x="120" y="150" fill="#0066FF">50.2%</text>
        <text class="t1" x="120" y="150" fill="lightblue" clip-path="url(#a5)">50.2%</text>



    </svg>

    <svg height="250">

        <defs>
            <clipPath id="a6">
                <path class="watermove" d="m-180 220 l400 0 l 0 -160 q-25 -10 -50 0 t -50 0
                          q-25 -10 -50 0 t -50 0 q-25 -10 -50 0 t -50 0
                          q-25 -10 -50 0 t -50 0
                          ">
                    <animateTransform attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      from="0 0"
                                      to="200 0"
                                      dur="10s"
                                      repeatCount="indefinite" />
                    <animateTransform attributeName="transform"
                                      attributeType="XML"
                                      type="translate"
                                      from="0 160"
                                      to="0 0"
                                      dur="0.8s" />

                </path>
            </clipPath>
        </defs>

        <circle cx="120" cy="120" r="110" stroke="#33CCFF" stroke-width="10" fill="#33CCFF" />
        <circle cx="120" cy="120" r="109" fill="white" />
        <circle cx="120" cy="120" r="100" fill="white" />
        <circle cx="120" cy="120" r="100" clip-path="url(#a6)" fill="#5599FF" />
        <text class="t1" x="120" y="150" fill="#0066FF">80%</text>
        <text class="t1" x="120" y="150" fill="lightblue" clip-path="url(#a6)">80%</text>

    </svg>

    <section>
        <a target="_blank" href="http://www.w3schools.com/svg/svg_circle.asp">step1:Create a circle</a>
        <br>
        <ul>
            <li>circle 屬性 cx 和 cy 是圓的中心點 , r為半徑</li>
        </ul>

        <svg width="110" height="110">
            <circle cx="52" cy="52" r="50" stroke="black" fill="orange" stroke-width="2"></circle>
        </svg>

    </section>

    <section>
        <a target="_blank" href="http://www.oxxostudio.tw/articles/201406/svg-09-clipping-masking.html">step2:Create a clip path 剪裁</a>
        <br>
        <ul>
            <li><a target="_blank" href="http://www.oxxostudio.tw/articles/201409/svg-18-defs.html">defs tag 用法</a></li>
        </ul>
        <svg>
            <defs>
                <clipPath id="a1">
                    <rect x="0" y="0" width="204" height="100" />
                </clipPath>
            </defs>

            <circle cx="102" cy="102" r="100" stroke="black" stroke-width="2" clip-path="url(#a1)" fill="orange" />
            <text x="60" y="60" fill="black">I love SVG!</text>
            Sorry, your browser does not support inline SVG.

        </svg>

    </section>


    <section>
        <a target="_blank" href="http://www.oxxostudio.tw/articles/201406/svg-09-clipping-masking.html">step3:Create a overlapping circle </a>
        <br>
        <ul>
            <li>圖片順序依照程式先後順序疊(先寫的在底下)</li>
        </ul>
        <svg height="250">
            <defs>
                <clipPath id="a1">
                    <rect x="0" y="100" width="204" height="102" />
                </clipPath>
            </defs>
            <circle cx="102" cy="102" r="100" stroke="black" stroke-width="2" fill="pink" />
            <circle cx="102" cy="102" r="100" stroke="black" stroke-width="2" clip-path="url(#a1)" fill="orange" />
            <text x="40" y="50" fill="black">我是在後面的全圓</text>
            <text x="55" y="150" fill="black">我剪裁的半圓</text>
        </svg>
    </section>


    <section>
        <a target="_blank" href="http://www.oxxostudio.tw/articles/201406/svg-04-path-1.html">step4:剪裁部分改用path劃出波浪(用QT即可) </a>
        <br>
        <ul>
            <li onclick="pathTutorial()"><a href="javascript:$('.img1').toggle();">path 屬性教學</a></li>
            <li><a href="https://developer.mozilla.org/zh-TW/docs/Web/SVG/Attribute/text-anchor" target="_blank">text tag的 text anchor</a></li>
        </ul>
        <div class="img1">
            <img src="1.PNG" />
            <img src="2.PNG" />
        </div>
        <svg height="250">

            <defs>
                <clipPath id="a1">
                    <rect x="0" y="0" width="204" height="102" />
                </clipPath>
            </defs>

            <path d="m0 100 l0 100 l200 0 l0 -100 q -50 -30 -100 0 t -100 0 " fill="black"></path>
            <text x="10" y="150" fill="white">拿來剪裁的圖形</text>


        </svg>
        <span style="position:relative; top:-100px; left:-50px; font-weight:900;">-----></span>
        <svg height="250">

            <defs>
                <clipPath id="a3">
                    <path class="watermove" d="m-180 220 l400 0 l 0 -100 q-25 -10 -50 0 t -50 0
                          q-25 -10 -50 0 t -50 0 q-25 -10 -50 0 t -50 0
                          q-25 -10 -50 0 t -50 0
                          "></path>
                </clipPath>
            </defs>

            <circle cx="120" cy="120" r="110" stroke="#33CCFF" stroke-width="10" fill="#33CCFF" />
            <circle cx="120" cy="120" r="109" fill="white" />
            <circle cx="120" cy="120" r="100" fill="white" />
            <circle cx="120" cy="120" r="100" clip-path="url(#a3)" fill="#5599FF" />
            <text class="t1" x="120" y="150" fill="#0066FF">50.2%</text>
            <text class="t1" x="120" y="150" fill="lightblue" clip-path="url(#a3)">50.2%</text>



        </svg>
    </section>




    <section>
        <a target="_blank" href="http://www.oxxostudio.tw/articles/201406/svg-09-clipping-masking.html">其他:Create a marking 遮色片</a>
        <br>
        <ul></ul>
        <svg>
            <defs>
                <mask id="a2">
                    <rect x="0" y="0" width="204" height="100" fill="#999" />
                </mask>
            </defs>
            <!-- -->
            <circle cx="200" cy="102" r="100" stroke="black" stroke-width="2" fill="green" />
            <circle cx="102" cy="102" r="100" stroke="black" stroke-width="2" fill="orange" mask="url(#a2)" />



            <text x="60" y="60" fill="black">I love SVG!</text>
            Sorry, your browser does not support inline SVG.

        </svg>

    </section>

    <script>






        $(".t1").each(function (i, e) {
            var value = $(e).text().replace("%", "");
            console.log(parseFloat(value, 10));
            var i = 0;

            var a = setInterval(function () {
                $(e).text(i.toFixed(1) + '%');
                i += value * 0.006;
                if (i.toFixed(1) > parseFloat(value, 10)) {
                    $(e).text(parseFloat(value, 10) + '%');
                    clearInterval(a);
                }
            }, 0);
        });

    </script>
</body>
</html>